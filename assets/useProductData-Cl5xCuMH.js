import{u as m,b as c,c as a}from"./tanstack-query-BtejbdqV.js";import{t as u}from"./useInfluencerData-DgYyWdtE.js";import{t}from"./index-kvcITcEx.js";function q(){return m({queryKey:["products"],queryFn:u.getProducts,staleTime:300*1e3})}function Q(){const r=c();return a({mutationFn:u.refreshProducts,onSuccess:e=>{r.setQueryData(["products"],e),t.success("데이터 새로고침 완료")},onError:e=>{t.error("새로고침 실패: "+e.message)}})}function x(){const r=c();return a({mutationFn:u.addProduct,onSuccess:()=>{r.invalidateQueries({queryKey:["products"]}),t.success("제품 등록 완료")},onError:e=>{t.error("제품 등록 실패: "+e.message)}})}function C(){const r=c();return a({mutationFn:e=>u.updateProductCell(e.rowIndex,e),onMutate:async e=>{await r.cancelQueries({queryKey:["products"]});const i=r.getQueryData(["products"]);return r.setQueryData(["products"],s=>{if(!s?.data)return s;const o=[...s.data],d=o.findIndex(n=>n._rowIndex===e.rowIndex);if(d!==-1){const n=o[d],y=(s.headers||Object.keys(n))[e.columnIndex];y&&(o[d]={...n,[y]:e.value})}return{...s,data:o}}),{previous:i}},onError:(e,i,s)=>{r.setQueryData(["products"],s?.previous),t.error("저장 실패: "+e.message)},onSuccess:()=>{t.success("저장 완료")}})}function g(){const r=c();return a({mutationFn:e=>u.deleteProduct(e),onSuccess:()=>{r.invalidateQueries({queryKey:["products"]}),t.success("제품 삭제 완료")},onError:e=>{t.error("제품 삭제 실패: "+e.message)}})}export{Q as a,x as b,C as c,g as d,q as u};
