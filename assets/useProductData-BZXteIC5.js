import{c as m,A as c,E as u,t}from"./useInfluencerData-BUSAMa2M.js";import{u as p}from"./useQuery-CRDnl9p6.js";import{a}from"./index-DS07Q32S.js";const l=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Q=m("mail",l);const f=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],g=m("plus",f);function w(){return p({queryKey:["products"],queryFn:u.getProducts,staleTime:300*1e3})}function C(){const r=a();return c({mutationFn:u.refreshProducts,onSuccess:e=>{r.setQueryData(["products"],e),t.success("데이터 새로고침 완료")},onError:e=>{t.error("새로고침 실패: "+e.message)}})}function v(){const r=a();return c({mutationFn:u.addProduct,onSuccess:()=>{r.invalidateQueries({queryKey:["products"]}),t.success("제품 등록 완료")},onError:e=>{t.error("제품 등록 실패: "+e.message)}})}function D(){const r=a();return c({mutationFn:e=>u.updateProductCell(e.rowIndex,e),onMutate:async e=>{await r.cancelQueries({queryKey:["products"]});const i=r.getQueryData(["products"]);return r.setQueryData(["products"],s=>{if(!s?.data)return s;const o=[...s.data],d=o.findIndex(n=>n._rowIndex===e.rowIndex);if(d!==-1){const n=o[d],y=(s.headers||Object.keys(n))[e.columnIndex];y&&(o[d]={...n,[y]:e.value})}return{...s,data:o}}),{previous:i}},onError:(e,i,s)=>{r.setQueryData(["products"],s?.previous),t.error("저장 실패: "+e.message)},onSuccess:()=>{t.success("저장 완료")}})}function I(){const r=a();return c({mutationFn:e=>u.deleteProduct(e),onSuccess:()=>{r.invalidateQueries({queryKey:["products"]}),t.success("제품 삭제 완료")},onError:e=>{t.error("제품 삭제 실패: "+e.message)}})}export{Q as M,g as P,C as a,v as b,D as c,I as d,w as u};
