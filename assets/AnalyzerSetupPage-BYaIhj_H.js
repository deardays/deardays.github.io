import{r as i,j as e}from"./index-hQ7EUUYS.js";const u="javascript:void((function(){var s=document.createElement('script');s.src='https://deardays.kr/analyzer/inject.js?v='+Date.now();document.head.appendChild(s);})())",h=`javascript:void(!async function(){"use strict";if(location.hostname.includes("instagram.com")){var e=location.pathname.match(/^\\/([^\\/\\?]+)/);if(e&&!["p","reel","stories","explore","direct","accounts","reels"].includes(e[1])){var t=e[1],r=document.createElement("div");r.id="ig-analyzer-overlay",r.style.cssText="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);z-index:99999;display:flex;flex-direction:column;align-items:center;justify-content:center;color:white;font-family:system-ui;",r.innerHTML='<div style="font-size:24px;margin-bottom:12px;">ğŸ“Š ë¶„ì„ ì¤‘...</div><div id="ig-analyzer-status" style="font-size:14px;color:%23aaa;">í”„ë¡œí•„ ë°ì´í„° ì¶”ì¶œ ì¤‘</div>',document.body.appendChild(r);var n=document.getElementById("ig-analyzer-status");try{p("í”„ë¡œí•„ ë°ì´í„° ì¶”ì¶œ ì¤‘...");var a=function(e){var t={username:e,displayName:"",profileLink:"https://www.instagram.com/"+e+"/",followers:0,bio:"",externalLink:"",hasBroadcastChannel:!1},r=document.querySelector('header section span[dir="auto"]')||document.querySelector('header span[style*="font-weight"]');r&&r.textContent.trim()!==e&&(t.displayName=r.textContent.trim());if(!t.displayName){var n=document.querySelector('meta[property="og:title"]');if(n){var a=n.getAttribute("content"),i=a&&a.match(/^([^(]+)\\(/);i&&(t.displayName=i[1].trim())}}var l=document.querySelector('a[href$="/followers/"]');if(l){var o=l.querySelector("span span")||l.querySelector("span");o&&(t.followers=v(o.textContent.trim()))}if(!t.followers){document.querySelectorAll("header section ul li, header ul li").forEach(function(e){var r=e.textContent;if(r.includes("íŒ”ë¡œì›Œ")||r.includes("followers")){var n=r.match(/[\\d,.]+[ë§Œì²œKM]?/);n&&(t.followers=v(n[0]))}})}var s=document.querySelector("header section > div:last-child");if(s){var c=s.querySelector("span");c&&!c.querySelector('a[href$="/followers/"]')&&(t.bio=c.textContent.trim())}if(!t.bio){var d=document.querySelector('meta[name="description"]');if(d){var u=d.getAttribute("content"),m=u&&u.match(/ê³„ì •: '([^']+)'/);m&&(t.bio=m[1])}}var f=document.querySelector('a[href*="l.instagram.com/?u="]');if(f){var h=f.href.match(/u=([^&]+)/);h&&(t.externalLink=decodeURIComponent(h[1]))}if(!t.externalLink){var p=document.querySelectorAll('header a[rel="me nofollow noopener noreferrer"]');p.length>0&&(t.externalLink=p[0].href)}if(!t.externalLink){var g=document.querySelector('a[href*="linktr.ee"], a[href*="bit.ly"], a[href*="linkin.bio"]');g&&(t.externalLink=g.href)}for(var y=document.querySelectorAll('script[type="application/json"]'),w=0;w<y.length;w++){var x=y[w].textContent||"";if(x.includes('"has_channel":true')||x.includes('"broadcast_channel":')){t.hasBroadcastChannel=!0;break}}return t}(t);p("í”¼ë“œ ê²Œì‹œë¬¼ ìˆ˜ì§‘ ì¤‘...");var i=await async function(){for(var e=[],t=[],r=0;r<20&&!((t=document.querySelectorAll('a[href*="/p/"], a[href*="/reel/"]')).length>0);r++)2!==r&&5!==r||window.scrollBy(0,300),await new Promise(function(e){setTimeout(e,500)});for(var n=["ê³µêµ¬","ê³µë™êµ¬ë§¤","ì„ ì°©ìˆœ","ì´ë²¤íŠ¸","open","ì˜¤í”ˆ","ë§ˆê°"],a=0;a<t.length;a++){for(var i=t[a],l=i.getAttribute("href"),o=!1,s=i.querySelectorAll("svg"),c=0;c<s.length;c++){var d=s[c].getAttribute("aria-label")||"";if(d.includes("ê³ ì •")||d.toLowerCase().includes("pin")){o=!0;break}}if(!o)for(var u=i.querySelectorAll("title"),m=0;m<u.length;m++)if((u[m].textContent||"").includes("ê³ ì •")||(u[m].textContent||"").toLowerCase().includes("pin")){o=!0;break}for(var f="",h=i.querySelectorAll("img"),p=0;p<h.length;p++){var v=h[p].getAttribute("alt")||"";v.length>f.length&&(f=v)}for(var g=!1,y=f.toLowerCase(),w=0;w<n.length;w++)if(y.includes(n[w].toLowerCase())){g=!0;break}e.push({index:a+1,href:l,isPinned:o,isReel:l.includes("/reel/"),isDeal:g,caption:f.substring(0,60),comments:0,likes:0,date:""})}return e}();p("ê²Œì‹œë¬¼ ìƒì„¸ ë°ì´í„° ìˆ˜ì§‘ ì¤‘...");var l=i.filter(function(e){return!e.isPinned}),o=l.slice(0,10).filter(function(e){return e.isDeal}),s=l.length>0?l[0]:null,c=o.slice();s&&-1===c.indexOf(s)&&c.push(s);for(var d=0;d<c.length;d++){p("ê²Œì‹œë¬¼ "+(d+1)+"/"+c.length+" ë¶„ì„ ì¤‘...");try{var u=await g(c[d].href);c[d].comments=u.comments,c[d].likes=u.likes,c[d].date=u.date}catch(e){}}p("ë¦´ìŠ¤ ë°ì´í„° ìˆ˜ì§‘ ì¤‘...");var m=await async function(e){try{var t=await fetch("/"+e+"/reels/",{credentials:"include"});if(!t.ok)return[];var r=await t.text(),n=(new DOMParser).parseFromString(r,"text/html").querySelectorAll('a[href*="/reel/"]'),a=[];return n.forEach(function(e,t){try{for(var r=!1,n=e.querySelectorAll("svg"),i=0;i<n.length;i++){var l=n[i].getAttribute("aria-label")||"";if(l.includes("ê³ ì •")||l.toLowerCase().includes("pin")){r=!0;break}}for(var o="",s=e.querySelectorAll("svg"),c=0;c<s.length;c++){var d=s[c].getAttribute("aria-label")||"";if(d.includes("ì¡°íšŒ")||d.toLowerCase().includes("view")||d.toLowerCase().includes("play")){var u=s[c].parentElement;if(u&&u.nextElementSibling){o=u.nextElementSibling.textContent.trim();break}}}if(!o)for(var m=e.querySelectorAll("span"),f=0;f<m.length;f++){var h=m[f].textContent.trim();if(h&&/^[\\d,.]+[ë§Œì²œKMB]?$/.test(h)){o=h;break}}o&&a.push({index:t+1,views:v(o),isPinned:r,href:e.getAttribute("href")||""})}catch(e){}}),a}catch(e){return[]}}(t),f=function(e,t){var r=e.filter(function(e){return!e.isPinned&&e.isDeal}),n=0,a=0,i=0,l=0;if(r.length>0){var o=0,s=0;r.forEach(function(e){o+=e.likes||0,s+=e.comments||0,(e.likes||0)>a&&(a=e.likes),(e.comments||0)>l&&(l=e.comments)}),n=Math.round(o/r.length),i=Math.round(s/r.length)}var c=t.filter(function(e){return!e.isPinned}),d=c.slice(0,10),u=0,m=0;if(d.length>0){var f=0;d.forEach(function(e){f+=e.views,e.views>m&&(m=e.views)}),u=Math.round(f/d.length)}for(var h="",p=e.filter(function(e){return!e.isPinned}),v=0;v<p.length;v++)if(p[v].date){h=p[v].date;break}return{avgViews:u,maxViews:m,avgLikes:n,maxLikes:a,avgComments:i,maxComments:l,lastPostDate:h}}(i,m),h={username:t,profile:a,feedPosts:i.map(function(e,t){return{index:t+1,href:e.href,isPinned:e.isPinned,isReel:e.isReel,isDeal:e.isDeal,caption:e.caption||"",comments:e.comments||0,likes:e.likes||0,date:e.date||""}}),reels:m,stats:f};p("ë¶„ì„ ì™„ë£Œ! ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤..."),await new Promise(function(e){setTimeout(e,500)});window.location="https://deardays.kr/analyzer%23"+encodeURIComponent(JSON.stringify(h))}catch(e){r.innerHTML='<div style="font-size:20px;color:%23ff6b6b;">âŒ ë¶„ì„ ì‹¤íŒ¨</div><div style="font-size:14px;color:%23aaa;margin-top:8px;">'+e.message+'</div><div style="font-size:12px;color:%23666;margin-top:16px;">íƒ­í•˜ì—¬ ë‹«ê¸°</div>',r.addEventListener("click",function(){r.remove()})}}else alert("ì¸í”Œë£¨ì–¸ì„œ í”„ë¡œí•„ í˜ì´ì§€ì—ì„œ ì‹¤í–‰í•´ì£¼ì„¸ìš”.\\nì˜ˆ: instagram.com/username")}else alert("Instagram í˜ì´ì§€ì—ì„œ ì‹¤í–‰í•´ì£¼ì„¸ìš”.");function p(e){n&&(n.textContent=e)}function v(e){if(!e)return 0;var t=e.replace(/,/g,"");return t.includes("ë§Œ")?1e4*parseFloat(t.replace("ë§Œ","")):t.includes("ì²œ")?1e3*parseFloat(t.replace("ì²œ","")):t.includes("M")?1e6*parseFloat(t.replace("M","")):t.includes("K")?1e3*parseFloat(t.replace("K","")):parseFloat(t)||0}async function g(e){try{var t=await fetch("https://www.instagram.com"+e,{credentials:"include"});if(!t.ok)return{comments:0,likes:0,date:""};var r=(await t.text()).substring(0,3e4),n={comments:0,likes:0,date:""},a=r.match(/<meta[^>]*name="description"[^>]*content="([^"]*)"/i);if(a){var i=a[1],l=i.match(/([\\d,]+)\\s*comment/i);if(l&&(n.comments=parseInt(l[1].replace(/,/g,""),10)||0),!n.comments){var o=i.match(/ëŒ“ê¸€\\s*([\\d,]+)/);o&&(n.comments=parseInt(o[1].replace(/,/g,""),10)||0)}var s=i.match(/([\\d,]+)\\s*like/i);if(s&&(n.likes=parseInt(s[1].replace(/,/g,""),10)||0),!n.likes){var c=i.match(/ì¢‹ì•„ìš”\\s*([\\d,]+)/);c&&(n.likes=parseInt(c[1].replace(/,/g,""),10)||0)}var d={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},u=i.match(/- (\\w+ \\d{1,2}, \\d{4})/i);if(u){var m=u[1].match(/(\\w+)\\s+(\\d{1,2}),\\s*(\\d{4})/);m&&d[m[1].toLowerCase()]&&(n.date=m[3]+"-"+String(d[m[1].toLowerCase()]).padStart(2,"0")+"-"+String(parseInt(m[2])).padStart(2,"0"))}if(!n.date){var f=i.match(/(\\d{4})ë…„\\s*(\\d{1,2})ì›”\\s*(\\d{1,2})ì¼/);f&&(n.date=f[1]+"-"+String(parseInt(f[2])).padStart(2,"0")+"-"+String(parseInt(f[3])).padStart(2,"0"))}}if(!n.date){var h=r.match(/<time[^>]*datetime="(\\d{4}-\\d{2}-\\d{2})/i);h&&(n.date=h[1])}return n}catch(e){return{comments:0,likes:0,date:""}}}}())`;function p(){const[s,l]=i.useState(!1),[o,c]=i.useState(!1),n=async(a,r)=>{try{await navigator.clipboard.writeText(a),r(!0),setTimeout(()=>r(!1),2e3)}catch{const t=document.createElement("textarea");t.value=a,t.style.position="fixed",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),r(!0),setTimeout(()=>r(!1),2e3)}},d=()=>n(u,l),m=()=>n(h,c);return e.jsxs("div",{className:"min-h-screen bg-admin-bg text-white",children:[e.jsx("header",{className:"p-4 border-b border-admin-border",children:e.jsxs("div",{className:"max-w-lg mx-auto flex items-center justify-between",children:[e.jsx("h1",{className:"text-admin-accent text-xs font-semibold tracking-widest font-admin-mono",children:"IG ANALYZER SETUP"}),e.jsx("a",{href:"/analyzer",className:"text-xs text-admin-text",children:"â† ë¶„ì„ê¸°"})]})}),e.jsxs("main",{className:"max-w-lg mx-auto p-4 space-y-6 pb-12",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-white font-semibold mb-2",children:"ë¶ë§ˆí´ë¦¿ ì„¤ì •"}),e.jsx("p",{className:"text-admin-text text-sm mb-4",children:"ì•„ë˜ ì½”ë“œë¥¼ ë¸Œë¼ìš°ì € ë¶ë§ˆí¬ì— ì¶”ê°€í•˜ë©´ Instagramì—ì„œ ì¸í”Œë£¨ì–¸ì„œë¥¼ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."}),e.jsx("button",{onClick:d,className:"w-full py-3 rounded-lg text-sm font-semibold bg-admin-accent text-black active:opacity-80 min-h-[44px]",children:s?"ì½”ë“œ ë³µì‚¬ë¨!":"ë¶ë§ˆí´ë¦¿ ì½”ë“œ ë³µì‚¬"})]}),e.jsxs("section",{className:"bg-admin-card border border-admin-border rounded-lg p-4",children:[e.jsx("h3",{className:"text-white font-semibold text-sm mb-3",children:"iOS Safari ì„¤ì •ë²•"}),e.jsxs("ol",{className:"text-admin-text text-sm space-y-2 list-decimal list-inside",children:[e.jsxs("li",{children:["Safariì—ì„œ ì•„ë¬´ í˜ì´ì§€ì˜ ",e.jsx("strong",{className:"text-white",children:"ê³µìœ  ë²„íŠ¼"})," â†’ ",e.jsx("strong",{className:"text-white",children:"ë¶ë§ˆí¬ ì¶”ê°€"})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"ë¶ë§ˆí¬ í¸ì§‘"}),"ì—ì„œ URLì„ ì‚­ì œí•˜ê³  ìœ„ì—ì„œ ë³µì‚¬í•œ ì½”ë“œë¥¼ ë¶™ì—¬ë„£ê¸°"]}),e.jsxs("li",{children:["ì´ë¦„ì„ ",e.jsx("strong",{className:"text-white",children:'"IG ë¶„ì„"'})," ë“±ìœ¼ë¡œ ë³€ê²½"]})]})]}),e.jsxs("section",{className:"bg-admin-card border border-admin-border rounded-lg p-4",children:[e.jsx("h3",{className:"text-white font-semibold text-sm mb-3",children:"Android Chrome ì„¤ì •ë²•"}),e.jsxs("ol",{className:"text-admin-text text-sm space-y-2 list-decimal list-inside",children:[e.jsxs("li",{children:["Chromeì—ì„œ ì•„ë¬´ í˜ì´ì§€ë¥¼ ",e.jsx("strong",{className:"text-white",children:"ë¶ë§ˆí¬ì— ì¶”ê°€"})]}),e.jsxs("li",{children:["ë¶ë§ˆí¬ ë©”ë‰´ì—ì„œ í•´ë‹¹ ë¶ë§ˆí¬ë¥¼ ",e.jsx("strong",{className:"text-white",children:"í¸ì§‘"})]}),e.jsx("li",{children:"URLì„ ì‚­ì œí•˜ê³  ìœ„ì—ì„œ ë³µì‚¬í•œ ì½”ë“œë¥¼ ë¶™ì—¬ë„£ê¸°"})]})]}),e.jsxs("section",{className:"bg-admin-card border border-admin-border rounded-lg p-4",children:[e.jsx("h3",{className:"text-white font-semibold text-sm mb-3",children:"ì‚¬ìš©ë²•"}),e.jsxs("ol",{className:"text-admin-text text-sm space-y-2 list-decimal list-inside",children:[e.jsxs("li",{children:["ëª¨ë°”ì¼ ë¸Œë¼ìš°ì €ì—ì„œ ",e.jsx("strong",{className:"text-white",children:"instagram.com"})," ì— ë¡œê·¸ì¸"]}),e.jsxs("li",{children:["ë¶„ì„í•  ì¸í”Œë£¨ì–¸ì„œì˜ ",e.jsx("strong",{className:"text-white",children:"í”„ë¡œí•„ í˜ì´ì§€"}),"ë¡œ ì´ë™"]}),e.jsxs("li",{children:["ì €ì¥í•œ ",e.jsx("strong",{className:"text-white",children:"ë¶ë§ˆí´ë¦¿"}),"ì„ íƒ­í•˜ì—¬ ì‹¤í–‰"]}),e.jsx("li",{children:"ìë™ìœ¼ë¡œ ë°ì´í„° ì¶”ì¶œ í›„ ë¶„ì„ ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™"})]})]}),e.jsxs("section",{className:"bg-admin-card border border-admin-border rounded-lg p-4",children:[e.jsx("h3",{className:"text-white font-semibold text-sm mb-3",children:"ì™¸ë¶€ ìŠ¤í¬ë¦½íŠ¸ ë¡œë”©ì´ ì°¨ë‹¨ëœ ê²½ìš°"}),e.jsx("p",{className:"text-admin-text text-sm mb-3",children:"ìœ„ ë¶ë§ˆí´ë¦¿ì´ ë™ì‘í•˜ì§€ ì•Šìœ¼ë©´ (Instagram CSP ì°¨ë‹¨), ì•„ë˜ ì¸ë¼ì¸ ë²„ì „ì„ ì‚¬ìš©í•˜ì„¸ìš”. ëª¨ë“  ì½”ë“œê°€ ë¶ë§ˆí´ë¦¿ URLì— ì§ì ‘ í¬í•¨ë˜ì–´ ìˆì–´ ì™¸ë¶€ ìŠ¤í¬ë¦½íŠ¸ ë¡œë”©ì´ í•„ìš” ì—†ìŠµë‹ˆë‹¤."}),e.jsx("button",{onClick:m,className:"w-full py-3 rounded-lg text-sm font-semibold bg-admin-card border border-admin-accent text-admin-accent active:opacity-80 min-h-[44px]",children:o?"ì¸ë¼ì¸ ì½”ë“œ ë³µì‚¬ë¨!":"ì¸ë¼ì¸ ë¶ë§ˆí´ë¦¿ ì½”ë“œ ë³µì‚¬"})]})]})]})}export{p as default};
