import{j as t}from"./framer-motion-6E75tBg3.js";import{r as m}from"./react-vendor-9l3RvKiN.js";import{S as p,I as b}from"./SortPanel-CCg77oLu.js";import{D as j,a as f,b as v,c as N}from"./dialog-CRjbffcy.js";import{u as S}from"./useProductData-BSaB2ruT.js";import{t as w}from"./index-kvcITcEx.js";import"./tanstack-query-BtejbdqV.js";function E({open:l,onClose:c,onLoadProduct:x}){const{data:h,isLoading:u}=S(),i=h?.data||[],[n,o]=m.useState(""),d=m.useMemo(()=>{if(!n.trim())return i;const e=n.toLowerCase();return i.filter(r=>{const s=String(r.제품명||"").toLowerCase(),a=String(r.업체명||"").toLowerCase();return s.includes(e)||a.includes(e)})},[i,n]),g=e=>{const s=String(e["핏한 인플루언서"]||"").split(",").map(a=>a.trim()).filter(Boolean);x({productName:String(e.제품명||""),brandName:String(e.업체명||""),influencerIds:s}),w.success("제품을 불러왔습니다"),c(),o("")};return t.jsx(j,{open:l,onOpenChange:e=>{e||(c(),o(""))},children:t.jsxs(f,{className:"max-w-2xl max-h-[80vh] bg-admin-card border-admin-border text-white",children:[t.jsx(v,{children:t.jsx(N,{className:"text-white",children:"제품 불러오기"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(p,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-admin-text"}),t.jsx(b,{value:n,onChange:e=>o(e.target.value),placeholder:"제품명 또는 업체명으로 검색...",className:"pl-10 bg-admin-bg border-admin-border"})]}),t.jsx("div",{className:"max-h-[50vh] overflow-y-auto space-y-2",children:u?t.jsx("div",{className:"text-center text-admin-text py-8",children:"불러오는 중..."}):d.length===0?t.jsx("div",{className:"text-center text-admin-text py-8",children:"결과가 없습니다"}):d.map(e=>{const r=String(e.제품명||"이름 없음"),s=String(e.업체명||""),a=String(e.상태||"");return t.jsxs("div",{onClick:()=>g(e),className:"bg-admin-bg border border-admin-border hover:border-admin-accent rounded p-4 cursor-pointer transition-colors",children:[t.jsx("div",{className:"font-semibold mb-1",children:r}),s&&t.jsx("div",{className:"text-xs text-admin-accent mb-1",children:s}),a&&t.jsx("div",{className:"text-xs text-admin-text",children:a})]},e._rowIndex)})})]})]})})}export{E as ProductBrowser};
