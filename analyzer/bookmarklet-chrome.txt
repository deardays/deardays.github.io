javascript:void(!function(){"use strict";var e=document,t=e.querySelector.bind(e),a=e.querySelectorAll.bind(e);function n(e){if(!e)return 0;var t=e.replace(/,/g,"");return t.includes("\ub9cc")?1e4*parseFloat(t):t.includes("\ucc9c")?1e3*parseFloat(t):t.includes("M")?1e6*parseFloat(t):t.includes("K")||t.includes("k")?1e3*parseFloat(t):t.includes("B")?1e9*parseFloat(t):parseFloat(t)||0}var r={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},i=/\uacf5\uad6c|\uacf5\ub3d9\uad6c\ub9e4|\uc120\ucc29\uc21c|\uc774\ubca4\ud2b8|open|\uc624\ud508|\ub9c8\uac10/i;function o(e){for(var t=e.querySelectorAll("svg"),a=0;a<t.length;a++){var n=t[a].getAttribute("aria-label")||"";if(n.includes("\uace0\uc815")||n.toLowerCase().includes("pin"))return!0}for(var r=e.querySelectorAll("title"),i=0;i<r.length;i++){var o=r[i].textContent||"";if(o.includes("\uace0\uc815")||o.toLowerCase().includes("pin"))return!0}return!1}function s(e){for(var t="",a=e.querySelectorAll("img"),n=0;n<a.length;n++){var r=a[n].getAttribute("alt")||"";r.length>t.length&&(t=r)}return t}function l(e){for(var t=e.querySelectorAll("svg"),a=0;a<t.length;a++){var r=t[a].getAttribute("aria-label")||"";if(r.includes("\uc870\ud68c")||r.toLowerCase().includes("view")||r.toLowerCase().includes("play")){var i=t[a].parentElement;if(i&&i.nextElementSibling){var o=i.nextElementSibling.textContent.trim();if(o)return n(o)}}}for(var s=e.querySelectorAll("span"),l=0;l<s.length;l++){var c=s[l].textContent.trim();if(c&&/^[\d,.]+[\ub9cc\ucc9cKMB]?$/.test(c))return n(c)}for(var d=e.querySelectorAll("div"),u=0;u<d.length;u++){var f=d[u].textContent.trim();if(f&&/^[\d,.]+[\ub9cc\ucc9cKMB]?$/.test(f)&&f.length<15)return n(f)}return 0}function c(){var e=[];return a('a[href*="/reel/"]').forEach(function(t,a){try{var n=o(t),r=l(t);r&&e.push({index:a+1,views:r,isPinned:n,href:t.getAttribute("href")||""})}catch(e){}}),e}window.__IGExtractor={parseKoreanNumber:n,extractProfile:function(r){var i={username:r,displayName:"",profileLink:"https://www.instagram.com/"+r+"/",followers:0,bio:"",externalLink:"",hasBroadcastChannel:!1},o=t('meta[property="og:title"]'),s=(o?o.getAttribute("content")||"":e.title).match(/^(.+?)\s*[\(@]/);if(s){var l=s[1].trim();l&&l!==r&&(i.displayName=l)}if(!i.displayName)for(var c=a('header section span[dir="auto"]'),d=0;d<c.length;d++){var u=c[d].textContent.trim();if(u&&u!==r&&!/^[\d,.]+[\ub9cc\ucc9cKMB]?$/.test(u)){i.displayName=u;break}}var f=t('a[href$="/followers/"]');if(f){var m=f.querySelector("span span")||f.querySelector("span");m&&(i.followers=n(m.textContent.trim()))}if(!i.followers)for(var h=a("header section ul li, header ul li"),p=0;p<h.length;p++){var v=h[p].textContent;if(v.includes("\ud314\ub85c\uc6cc")||v.includes("followers")){var w=v.match(/[\d,.]+[\ub9cc\ucc9cKM]?/);if(w){i.followers=n(w[0]);break}}}var g=t("header section > div:last-child");if(g){var y=g.querySelector("span");y&&!y.querySelector('a[href$="/followers/"]')&&(i.bio=y.textContent.trim())}if(!i.bio){var x=t('meta[name="description"]');if(x){var b=x.getAttribute("content"),k=b&&b.match(/\uacc4\uc815: '([^']+)'/);k&&(i.bio=k[1])}}var C=t('a[href*="l.instagram.com/?u="]');if(C){var S=C.href.match(/u=([^&]+)/);S&&(i.externalLink=decodeURIComponent(S[1]))}if(!i.externalLink){var P=a('header a[rel="me nofollow noopener noreferrer"]');P.length>0&&(i.externalLink=P[0].href)}if(!i.externalLink){var L=t('a[href*="linktr.ee"], a[href*="bit.ly"], a[href*="linkin.bio"]');L&&(i.externalLink=L.href)}for(var A=a('script[type="application/json"]'),I=0;I<A.length;I++){var E=A[I].textContent||"";if(E.includes('"has_channel":true')||E.includes('"broadcast_channel":')){i.hasBroadcastChannel=!0;break}}if(!i.hasBroadcastChannel){var M=e.documentElement.innerHTML;(M.includes('"has_channel":true')||M.includes("broadcast_channel")||M.includes("JoinBroadcastChannel"))&&(i.hasBroadcastChannel=!0)}return i.hasBroadcastChannel||t('button[aria-label*="\ucc44\ub110"], button[aria-label*="channel"], [role="button"][aria-label*="Join"]')&&(i.hasBroadcastChannel=!0),i},extractFeedPosts:async function(e){var t=[];if(e){for(var n=0;n<15&&!window.location.pathname.includes("/"+e);n++)await new Promise(function(e){setTimeout(e,1e3)});if(!window.location.pathname.includes("/"+e))return t}for(var r=[],l=0;l<20&&!((r=a('a[href*="/p/"], a[href*="/reel/"]')).length>0);l++)2!==l&&5!==l||window.scrollBy(0,300),await new Promise(function(e){setTimeout(e,500)});for(var c=0;c<r.length;c++){var d=r[c],u=d.getAttribute("href"),f=o(d),m=s(d);t.push({index:c+1,href:u,isPinned:f,isReel:u.includes("/reel/"),isDeal:i.test(m),caption:m.substring(0,60),comments:0,likes:0,date:""})}return t},fetchPostMetadata:async function(e){try{var t=await fetch("https://www.instagram.com"+e,{credentials:"include"});if(!t.ok)return{comments:0,likes:0,date:""};var a=(await t.text()).substring(0,5e4),n={comments:0,likes:0,date:""},i=a.match(/<meta[^>]*name="description"[^>]*content="([^"]*)"/i)||a.match(/<meta[^>]*property="og:description"[^>]*content="([^"]*)"/i);if(i){var o=i[1],s=o.match(/([\d,]+)\s*like/i);if(s&&(n.likes=parseInt(s[1].replace(/,/g,""),10)||0),!n.likes){var l=o.match(/\uc88b\uc544\uc694\s*([\d,]+)/);l&&(n.likes=parseInt(l[1].replace(/,/g,""),10)||0)}var c=o.match(/([\d,]+)\s*comment/i);if(c&&(n.comments=parseInt(c[1].replace(/,/g,""),10)||0),!n.comments){var d=o.match(/\ub313\uae00\s*([\d,]+)/);d&&(n.comments=parseInt(d[1].replace(/,/g,""),10)||0)}var u=o.match(/(\w+)\s+(\d{1,2}),\s*(\d{4})/);if(u&&r[u[1].toLowerCase()]&&(n.date=u[3]+"-"+String(r[u[1].toLowerCase()]).padStart(2,"0")+"-"+String(parseInt(u[2])).padStart(2,"0")),!n.date){var f=o.match(/(\d{4})\ub144\s*(\d{1,2})\uc6d4\s*(\d{1,2})\uc77c/);f&&(n.date=f[1]+"-"+String(parseInt(f[2])).padStart(2,"0")+"-"+String(parseInt(f[3])).padStart(2,"0"))}}if(!n.likes&&!n.comments){var m=a.match(/LikeAction[^}]*?userInteractionCount["\s:]+(\d+)/);m&&(n.likes=parseInt(m[1],10)||0);var h=a.match(/CommentAction[^}]*?userInteractionCount["\s:]+(\d+)/);h&&(n.comments=parseInt(h[1],10)||0)}if(!n.date){var p=a.match(/<time[^>]*datetime="(\d{4}-\d{2}-\d{2})/i);p&&(n.date=p[1])}if(!n.date){var v=a.match(/"datePublished"\s*:\s*"(\d{4}-\d{2}-\d{2})/);v&&(n.date=v[1])}return n}catch(e){return{comments:0,likes:0,date:""}}},extractReelViews:l,extractReelsFromDOM:c,extractReelsViaSPA:async function(e){var n=[];try{var r=a('a[href*="/reel/"]').length,i=t('a[href="/'+e+'/reels/"]')||t('a[href*="/'+e+'/reels"]');i?i.click():(history.pushState(null,"","/"+e+"/reels/"),window.dispatchEvent(new PopStateEvent("popstate"))),await new Promise(function(e){setTimeout(e,1e3)});for(var o=0;o<30;o++){await new Promise(function(e){setTimeout(e,300)});var s=a('a[href*="/reel/"]'),l=location.pathname.includes("/reels");if(s.length>0&&(l||s.length!==r)){n=c();break}5!==o&&15!==o||window.scrollBy(0,300)}history.pushState(null,"","/"+e+"/"),window.dispatchEvent(new PopStateEvent("popstate")),await new Promise(function(e){setTimeout(e,500)})}catch(e){}return n},calculateStats:function(e,t){var a=t.filter(function(e){return!e.isPinned}).slice(0,10),n=0,r=0;if(a.length>0){var i=0;a.forEach(function(e){i+=e.views,e.views>r&&(r=e.views)}),n=Math.round(i/a.length)}var o=e.filter(function(e){return!e.isPinned&&e.isDeal}),s=0,l=0,c=0,d=0;if(o.length>0){var u=0,f=0;o.forEach(function(e){u+=e.likes||0,f+=e.comments||0,(e.likes||0)>l&&(l=e.likes),(e.comments||0)>d&&(d=e.comments)}),s=Math.round(u/o.length),c=Math.round(f/o.length)}for(var m="",h=e.filter(function(e){return!e.isPinned}),p=0;p<h.length;p++)if(h[p].date){m=h[p].date;break}return{avgViews:n,maxViews:r,avgLikes:s,maxLikes:l,avgComments:c,maxComments:d,lastPostDate:m}}}}(),async function(){"use strict";var e=window.__IGExtractor;if(!location.hostname.includes("instagram.com"))return alert("IG\uc5d0\uc11c \uc2e4\ud589");var t=location.pathname.match(/^\/([^\/\?]+)/);if(!t||/^(p|reel|stories|explore|direct|accounts|reels)$/.test(t[1]))return alert("\ud504\ub85c\ud544\uc5d0\uc11c \uc2e4\ud589");var a=t[1],n=document.createElement("div");function r(e){var t=document.getElementById("ig-s");t&&(t.textContent=e)}function i(e){n.innerHTML=e,n.addEventListener("click",function(){n.remove()})}n.style.cssText="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.85);z-index:99999;display:flex;align-items:center;justify-content:center;color:#fff;font:18px system-ui;flex-direction:column;",n.innerHTML='<div style="font-size:28px;margin-bottom:12px">\ud83d\udcca</div><div id="ig-s">\ud504\ub85c\ud544 \ubd84\uc11d \uc911...</div>',document.body.appendChild(n);try{var o=e.extractProfile(a);r("\ud53c\ub4dc \uac8c\uc2dc\ubb3c \uc218\uc9d1 \uc911...");var s=await e.extractFeedPosts(),l=s.filter(function(e){return!e.isPinned}),c=l.filter(function(e){return e.isDeal}).slice(0,10).slice();l[0]&&c.indexOf(l[0])<0&&c.push(l[0]),r("\uac8c\uc2dc\ubb3c "+c.length+"\uac1c \ubd84\uc11d \uc911..."),await Promise.all(c.map(async function(t){try{var a=await e.fetchPostMetadata(t.href);t.likes=a.likes,t.comments=a.comments,t.date=a.date}catch(e){}})),r("\ub9b4\uc2a4 \ub370\uc774\ud130 \uc218\uc9d1 \uc911...");var d=await e.extractReelsViaSPA(a),u={username:a,profile:o,feedPosts:s,reels:d,stats:e.calculateStats(s,d)};window.opener&&!window.opener.closed?(r("\ub370\uc774\ud130 \uc804\uc1a1 \uc911..."),window.opener.postMessage({type:"ig-analyzer-result",payload:u},"https://deardays.kr"),await new Promise(function(e){setTimeout(e,500)}),i('<div style="font-size:28px;margin-bottom:12px">\u2705</div><div>\ubd84\uc11d \uc644\ub8cc! \uad00\ub9ac \ud398\uc774\uc9c0\ub97c \ud655\uc778\ud558\uc138\uc694.</div><div style="font-size:12px;color:#666;margin-top:16px">\ud0ed\ud558\uc5ec \ub2eb\uae30</div>')):(r("\uc644\ub8cc! \uacb0\uacfc \ud398\uc774\uc9c0\ub85c \uc774\ub3d9..."),await new Promise(function(e){setTimeout(e,500)}),window.location="https://deardays.kr/admin/influencer#analyzer="+encodeURIComponent(JSON.stringify(u)))}catch(e){i('<div style="font-size:20px;color:#ff6b6b">\ubd84\uc11d \uc2e4\ud328</div><div style="font-size:14px;color:#aaa;margin-top:8px">'+(e.message||e)+'</div><div style="font-size:12px;color:#666;margin-top:16px">\ud0ed\ud558\uc5ec \ub2eb\uae30</div>')}}())