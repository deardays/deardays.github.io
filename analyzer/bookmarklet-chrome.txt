javascript:void(!function(){"use strict";function e(e){if(!e)return 0;var t=e.replace(/,/g,"");return t.includes("\ub9cc")?1e4*parseFloat(t):t.includes("\ucc9c")?1e3*parseFloat(t):t.includes("M")?1e6*parseFloat(t):t.includes("K")||t.includes("k")?1e3*parseFloat(t):t.includes("B")?1e9*parseFloat(t):parseFloat(t)||0}var t={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},r=/\uacf5\uad6c|\uacf5\ub3d9\uad6c\ub9e4|\uc120\ucc29\uc21c|\uc774\ubca4\ud2b8|open|\uc624\ud508|\ub9c8\uac10/i;function n(e){for(var t=e.querySelectorAll("svg"),r=0;r<t.length;r++){var n=t[r].getAttribute("aria-label")||"";if(n.includes("\uace0\uc815")||n.toLowerCase().includes("pin"))return!0}for(var a=e.querySelectorAll("title"),i=0;i<a.length;i++){var o=a[i].textContent||"";if(o.includes("\uace0\uc815")||o.toLowerCase().includes("pin"))return!0}return!1}function a(e){for(var t="",r=e.querySelectorAll("img"),n=0;n<r.length;n++){var a=r[n].getAttribute("alt")||"";a.length>t.length&&(t=a)}return t}function i(t){for(var r=t.querySelectorAll("svg"),n=0;n<r.length;n++){var a=r[n].getAttribute("aria-label")||"";if(a.includes("\uc870\ud68c")||a.toLowerCase().includes("view")||a.toLowerCase().includes("play")){var i=r[n].parentElement;if(i&&i.nextElementSibling){var o=i.nextElementSibling.textContent.trim();if(o)return e(o)}}}for(var l=t.querySelectorAll("span"),s=0;s<l.length;s++){var c=l[s].textContent.trim();if(c&&/^[\d,.]+[\ub9cc\ucc9cKMB]?$/.test(c))return e(c)}for(var u=t.querySelectorAll("div"),d=0;d<u.length;d++){var m=u[d].textContent.trim();if(m&&/^[\d,.]+[\ub9cc\ucc9cKMB]?$/.test(m)&&m.length<15)return e(m)}return 0}function o(){var e=[];return document.querySelectorAll('a[href*="/reel/"]').forEach(function(t,r){try{var a=n(t),o=i(t);o&&e.push({index:r+1,views:o,isPinned:a,href:t.getAttribute("href")||""})}catch(e){}}),e}window.__IGExtractor={parseKoreanNumber:e,extractProfile:function(t){var r={username:t,displayName:"",profileLink:"https://www.instagram.com/"+t+"/",followers:0,bio:"",externalLink:"",hasBroadcastChannel:!1},n=document.title.match(/^([^(@]+)/);if(n){var a=n[1].trim();a&&a!==t&&(r.displayName=a)}if(!r.displayName)for(var i=document.querySelectorAll('header section span[dir="auto"]'),o=0;o<i.length;o++){var l=i[o].textContent.trim();if(l&&l!==t&&!/^[\d,.]+[\ub9cc\ucc9cKMB]?$/.test(l)){r.displayName=l;break}}var s=document.querySelector('a[href$="/followers/"]');if(s){var c=s.querySelector("span span")||s.querySelector("span");c&&(r.followers=e(c.textContent.trim()))}if(!r.followers)for(var u=document.querySelectorAll("header section ul li, header ul li"),d=0;d<u.length;d++){var m=u[d].textContent;if(m.includes("\ud314\ub85c\uc6cc")||m.includes("followers")){var f=m.match(/[\d,.]+[\ub9cc\ucc9cKM]?/);if(f){r.followers=e(f[0]);break}}}var h=document.querySelector("header section > div:last-child");if(h){var v=h.querySelector("span");v&&!v.querySelector('a[href$="/followers/"]')&&(r.bio=v.textContent.trim())}if(!r.bio){var p=document.querySelector('meta[name="description"]');if(p){var g=p.getAttribute("content"),w=g&&g.match(/\uacc4\uc815: '([^']+)'/);w&&(r.bio=w[1])}}var y=document.querySelector('a[href*="l.instagram.com/?u="]');if(y){var x=y.href.match(/u=([^&]+)/);x&&(r.externalLink=decodeURIComponent(x[1]))}if(!r.externalLink){var b=document.querySelectorAll('header a[rel="me nofollow noopener noreferrer"]');b.length>0&&(r.externalLink=b[0].href)}if(!r.externalLink){var S=document.querySelector('a[href*="linktr.ee"], a[href*="bit.ly"], a[href*="linkin.bio"]');S&&(r.externalLink=S.href)}for(var k=document.querySelectorAll('script[type="application/json"]'),C=0;C<k.length;C++){var q=k[C].textContent||"";if(q.includes('"has_channel":true')||q.includes('"broadcast_channel":')){r.hasBroadcastChannel=!0;break}}if(!r.hasBroadcastChannel){var P=document.documentElement.innerHTML;(P.includes('"has_channel":true')||P.includes("broadcast_channel")||P.includes("JoinBroadcastChannel"))&&(r.hasBroadcastChannel=!0)}return r.hasBroadcastChannel||document.querySelector('button[aria-label*="\ucc44\ub110"], button[aria-label*="channel"], [role="button"][aria-label*="Join"]')&&(r.hasBroadcastChannel=!0),r},extractFeedPosts:async function(e){var t=[];if(e){for(var i=0;i<15&&!window.location.pathname.includes("/"+e);i++)await new Promise(function(e){setTimeout(e,1e3)});if(!window.location.pathname.includes("/"+e))return t}for(var o=[],l=0;l<20&&!((o=document.querySelectorAll('a[href*="/p/"], a[href*="/reel/"]')).length>0);l++)2!==l&&5!==l||window.scrollBy(0,300),await new Promise(function(e){setTimeout(e,500)});for(var s=0;s<o.length;s++){var c=o[s],u=c.getAttribute("href"),d=n(c),m=a(c);t.push({index:s+1,href:u,isPinned:d,isReel:u.includes("/reel/"),isDeal:r.test(m),caption:m.substring(0,60),comments:0,likes:0,date:""})}return t},fetchPostMetadata:async function(e){try{var r=await fetch("https://www.instagram.com"+e,{credentials:"include"});if(!r.ok)return{comments:0,likes:0,date:""};var n=(await r.text()).substring(0,5e4),a={comments:0,likes:0,date:""},i=n.match(/<meta[^>]*name="description"[^>]*content="([^"]*)"/i)||n.match(/<meta[^>]*property="og:description"[^>]*content="([^"]*)"/i);if(i){var o=i[1],l=o.match(/([\d,]+)\s*like/i);if(l&&(a.likes=parseInt(l[1].replace(/,/g,""),10)||0),!a.likes){var s=o.match(/\uc88b\uc544\uc694\s*([\d,]+)/);s&&(a.likes=parseInt(s[1].replace(/,/g,""),10)||0)}var c=o.match(/([\d,]+)\s*comment/i);if(c&&(a.comments=parseInt(c[1].replace(/,/g,""),10)||0),!a.comments){var u=o.match(/\ub313\uae00\s*([\d,]+)/);u&&(a.comments=parseInt(u[1].replace(/,/g,""),10)||0)}var d=o.match(/(\w+)\s+(\d{1,2}),\s*(\d{4})/);if(d&&t[d[1].toLowerCase()]&&(a.date=d[3]+"-"+String(t[d[1].toLowerCase()]).padStart(2,"0")+"-"+String(parseInt(d[2])).padStart(2,"0")),!a.date){var m=o.match(/(\d{4})\ub144\s*(\d{1,2})\uc6d4\s*(\d{1,2})\uc77c/);m&&(a.date=m[1]+"-"+String(parseInt(m[2])).padStart(2,"0")+"-"+String(parseInt(m[3])).padStart(2,"0"))}}if(!a.likes&&!a.comments){var f=n.match(/LikeAction[^}]*?userInteractionCount["\s:]+(\d+)/);f&&(a.likes=parseInt(f[1],10)||0);var h=n.match(/CommentAction[^}]*?userInteractionCount["\s:]+(\d+)/);h&&(a.comments=parseInt(h[1],10)||0)}if(!a.date){var v=n.match(/<time[^>]*datetime="(\d{4}-\d{2}-\d{2})/i);v&&(a.date=v[1])}if(!a.date){var p=n.match(/"datePublished"\s*:\s*"(\d{4}-\d{2}-\d{2})/);p&&(a.date=p[1])}return a}catch(e){return{comments:0,likes:0,date:""}}},extractReelViews:i,extractReelsFromDOM:o,extractReelsViaSPA:async function(e){var t=[];try{var r=document.querySelectorAll('a[href*="/reel/"]').length,n=document.querySelector('a[href="/'+e+'/reels/"]')||document.querySelector('a[href*="/'+e+'/reels"]');n?n.click():(history.pushState(null,"","/"+e+"/reels/"),window.dispatchEvent(new PopStateEvent("popstate"))),await new Promise(function(e){setTimeout(e,1e3)});for(var a=0;a<30;a++){await new Promise(function(e){setTimeout(e,300)});var i=document.querySelectorAll('a[href*="/reel/"]'),l=location.pathname.includes("/reels");if(i.length>0&&(l||i.length!==r)){t=o();break}5!==a&&15!==a||window.scrollBy(0,300)}history.pushState(null,"","/"+e+"/"),window.dispatchEvent(new PopStateEvent("popstate")),await new Promise(function(e){setTimeout(e,500)})}catch(e){}return t},calculateStats:function(e,t){var r=t.filter(function(e){return!e.isPinned}).slice(0,10),n=0,a=0;if(r.length>0){var i=0;r.forEach(function(e){i+=e.views,e.views>a&&(a=e.views)}),n=Math.round(i/r.length)}var o=e.filter(function(e){return!e.isPinned&&e.isDeal}),l=0,s=0,c=0,u=0;if(o.length>0){var d=0,m=0;o.forEach(function(e){d+=e.likes||0,m+=e.comments||0,(e.likes||0)>s&&(s=e.likes),(e.comments||0)>u&&(u=e.comments)}),l=Math.round(d/o.length),c=Math.round(m/o.length)}for(var f="",h=e.filter(function(e){return!e.isPinned}),v=0;v<h.length;v++)if(h[v].date){f=h[v].date;break}return{avgViews:n,maxViews:a,avgLikes:l,maxLikes:s,avgComments:c,maxComments:u,lastPostDate:f}}}}(),async function(){"use strict";var e=window.__IGExtractor;if(!location.hostname.includes("instagram.com"))return alert("IG\uc5d0\uc11c \uc2e4\ud589");var t=location.pathname.match(/^\/([^\/\?]+)/);if(!t||/^(p|reel|stories|explore|direct|accounts|reels)$/.test(t[1]))return alert("\ud504\ub85c\ud544\uc5d0\uc11c \uc2e4\ud589");var r=t[1],n=document.createElement("div");function a(e){var t=document.getElementById("ig-s");t&&(t.textContent=e)}n.style.cssText="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.85);z-index:99999;display:flex;align-items:center;justify-content:center;color:#fff;font:18px system-ui;flex-direction:column;",n.innerHTML='<div style="font-size:28px;margin-bottom:12px">\ud83d\udcca</div><div id="ig-s">\ud504\ub85c\ud544 \ubd84\uc11d \uc911...</div>',document.body.appendChild(n);try{var i=e.extractProfile(r);a("\ud53c\ub4dc \uac8c\uc2dc\ubb3c \uc218\uc9d1 \uc911...");var o=await e.extractFeedPosts(),l=o.filter(function(e){return!e.isPinned}),s=l.filter(function(e){return e.isDeal}).slice(0,10).slice();l[0]&&s.indexOf(l[0])<0&&s.push(l[0]),a("\uac8c\uc2dc\ubb3c "+s.length+"\uac1c \ubd84\uc11d \uc911..."),await Promise.all(s.map(async function(t){try{var r=await e.fetchPostMetadata(t.href);t.likes=r.likes,t.comments=r.comments,t.date=r.date}catch(e){}})),a("\ub9b4\uc2a4 \ub370\uc774\ud130 \uc218\uc9d1 \uc911...");var c=await e.extractReelsViaSPA(r),u=e.calculateStats(o,c);a("\uc644\ub8cc! \uacb0\uacfc \ud398\uc774\uc9c0\ub85c \uc774\ub3d9..."),await new Promise(function(e){setTimeout(e,500)}),window.location="https://deardays.kr/admin/analyzer#"+encodeURIComponent(JSON.stringify({username:r,profile:i,feedPosts:o,reels:c,stats:u}))}catch(e){n.innerHTML='<div style="font-size:20px;color:#ff6b6b">\ubd84\uc11d \uc2e4\ud328</div><div style="font-size:14px;color:#aaa;margin-top:8px">'+(e.message||e)+'</div><div style="font-size:12px;color:#666;margin-top:16px">\ud0ed\ud558\uc5ec \ub2eb\uae30</div>',n.addEventListener("click",function(){n.remove()})}}();)