javascript:void(!async function(){"use strict";if(!location.hostname.includes("instagram.com"))return alert("IGì—ì„œ ì‹¤í–‰");var e=location.pathname.match(/^\/([^\/\?]+)/);if(!e||/^(p|reel|stories|explore|direct|accounts|reels)$/.test(e[1]))return alert("í”„ë¡œí•„ì—ì„œ ì‹¤í–‰");var t=e[1],r=0,a="",n=document.createElement("div");function i(e){var t=document.getElementById("ig-s");t&&(t.textContent=e)}n.style.cssText="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.85);z-index:99999;display:flex;align-items:center;justify-content:center;color:#fff;font:18px system-ui;flex-direction:column;",n.innerHTML='<div style="font-size:28px;margin-bottom:12px">ğŸ“Š</div><div id="ig-s">í”„ë¡œí•„ ë¶„ì„ ì¤‘...</div>',document.body.appendChild(n);try{var o=document.querySelector('a[href$="/followers/"]');if(o){var s=o.querySelector("span span")||o.querySelector("span");if(s){var l=s.textContent.trim().replace(/,/g,"");r=l.includes("ë§Œ")?1e4*parseFloat(l):l.includes("ì²œ")?1e3*parseFloat(l):l.includes("M")?1e6*parseFloat(l):l.includes("K")?1e3*parseFloat(l):parseFloat(l)||0}}var c=document.querySelector("header section span[dir=auto]");c&&c.textContent.trim()!==t&&(a=c.textContent.trim());var d="",u=document.querySelector("header section > div:last-child");if(u){var m=u.querySelector("span");m&&!m.querySelector('a[href$="/followers/"]')&&(d=m.textContent.trim())}var f="",p=document.querySelector('a[href*="l.instagram.com/?u="]');if(p){var h=p.href.match(/u=([^&]+)/);h&&(f=decodeURIComponent(h[1]))}i("í”¼ë“œ ê²Œì‹œë¬¼ ìˆ˜ì§‘ ì¤‘...");for(var v=[],g=/ê³µêµ¬|ê³µë™êµ¬ë§¤|ì„ ì°©ìˆœ|ì´ë²¤íŠ¸|open|ì˜¤í”ˆ|ë§ˆê°/i,y=document.querySelectorAll('a[href*="/p/"], a[href*="/reel/"]'),w=0;w<y.length;w++){for(var S=y[w],x=S.getAttribute("href"),b=!1,k=S.querySelectorAll("svg"),C=0;C<k.length;C++){var q=k[C].getAttribute("aria-label")||"";if(q.includes("ê³ ì •")||q.toLowerCase().includes("pin")){b=!0;break}}for(var P="",A=S.querySelectorAll("img"),I=0;I<A.length;I++){var L=A[I].getAttribute("alt")||"";L.length>P.length&&(P=L)}v.push({index:w+1,href:x,isPinned:b,isReel:x.includes("/reel/"),isDeal:g.test(P),caption:P.substring(0,60),comments:0,likes:0,date:""})}var E=v.filter(function(e){return!e.isPinned}),F=E.filter(function(e){return e.isDeal}).slice(0,10).slice();E[0]&&F.indexOf(E[0])<0&&F.push(E[0]),i("ê²Œì‹œë¬¼ "+F.length+"ê°œ ë¶„ì„ ì¤‘...");var M={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12};await Promise.all(F.map(async function(e){try{var t=await fetch("https://www.instagram.com"+e.href,{credentials:"include"});if(!t.ok)return;var r=(await t.text()).substring(0,3e4),a=r.match(/<meta[^>]*name="description"[^>]*content="([^"]*)"/i);if(a){var n=a[1],i=n.match(/([\d,]+)\s*like/i);if(i&&(e.likes=parseInt(i[1].replace(/,/g,""))||0),!e.likes){var o=n.match(/ì¢‹ì•„ìš”\s*([\d,]+)/);o&&(e.likes=parseInt(o[1].replace(/,/g,""))||0)}var s=n.match(/([\d,]+)\s*comment/i);if(s&&(e.comments=parseInt(s[1].replace(/,/g,""))||0),!e.comments){var l=n.match(/ëŒ“ê¸€\s*([\d,]+)/);l&&(e.comments=parseInt(l[1].replace(/,/g,""))||0)}var c=n.match(/(\w+)\s+(\d{1,2}),\s*(\d{4})/);if(c&&M[c[1].toLowerCase()]&&(e.date=c[3]+"-"+String(M[c[1].toLowerCase()]).padStart(2,"0")+"-"+String(parseInt(c[2])).padStart(2,"0")),!e.date){var d=n.match(/(\d{4})ë…„\s*(\d{1,2})ì›”\s*(\d{1,2})ì¼/);d&&(e.date=d[1]+"-"+String(parseInt(d[2])).padStart(2,"0")+"-"+String(parseInt(d[3])).padStart(2,"0"))}}if(!e.date){var u=r.match(/<time[^>]*datetime="(\d{4}-\d{2}-\d{2})/i);u&&(e.date=u[1])}}catch(e){}})),i("ë¦´ìŠ¤ ë°ì´í„° ìˆ˜ì§‘ ì¤‘...");var B=[];try{var T=document.querySelectorAll('a[href*="/reel/"]').length,z=document.querySelector('a[href="/'+t+'/reels/"]')||document.querySelector('a[href*="/'+t+'/reels"]');z?z.click():(history.pushState(null,"","/"+t+"/reels/"),window.dispatchEvent(new PopStateEvent("popstate"))),await new Promise(function(e){setTimeout(e,1e3)});for(var D=0;D<30;D++){await new Promise(function(e){setTimeout(e,300)});var j=document.querySelectorAll('a[href*="/reel/"]'),$=location.pathname.includes("/reels");if(j.length>0&&($||j.length!==T)){for(var K=0;K<j.length;K++)try{for(var R=j[K],H=!1,N=R.querySelectorAll("svg"),O=0;O<N.length;O++){var U=N[O].getAttribute("aria-label")||"";if(U.includes("ê³ ì •")||U.toLowerCase().includes("pin")){H=!0;break}}for(var V="",G=R.querySelectorAll("span"),J=0;J<G.length;J++){var Q=G[J].textContent.trim();if(Q&&/^[\d,.]+[ë§Œì²œKMB]?$/.test(Q)){V=Q;break}}if(V){var W=V.replace(/,/g,""),X=W.includes("ë§Œ")?1e4*parseFloat(W):W.includes("ì²œ")?1e3*parseFloat(W):W.includes("M")?1e6*parseFloat(W):W.includes("K")?1e3*parseFloat(W):parseFloat(W)||0;B.push({index:K+1,views:X,isPinned:H,href:R.getAttribute("href")||""})}}catch(e){}break}5!==D&&15!==D||window.scrollBy(0,300)}history.pushState(null,"","/"+t+"/"),window.dispatchEvent(new PopStateEvent("popstate")),await new Promise(function(e){setTimeout(e,500)})}catch(e){}var Y=B.filter(function(e){return!e.isPinned}).slice(0,10),Z=0,_=0;if(Y.length>0){var ee=0;Y.forEach(function(e){ee+=e.views,e.views>_&&(_=e.views)}),Z=Math.round(ee/Y.length)}var te=v.filter(function(e){return!e.isPinned&&e.isDeal}),re=0,ae=0,ne=0,ie=0;if(te.length>0){var oe=0,se=0;te.forEach(function(e){oe+=e.likes||0,se+=e.comments||0,e.likes>ae&&(ae=e.likes),e.comments>ie&&(ie=e.comments)}),re=Math.round(oe/te.length),ne=Math.round(se/te.length)}for(var le="",ce=0;ce<E.length;ce++)if(E[ce].date){le=E[ce].date;break}i("ì™„ë£Œ! ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™..."),await new Promise(function(e){setTimeout(e,500)}),window.location="https://deardays.kr/admin/analyzer#"+encodeURIComponent(JSON.stringify({username:t,profile:{username:t,displayName:a,profileLink:"https://www.instagram.com/"+t+"/",followers:r,bio:d,externalLink:f,hasBroadcastChannel:!1},feedPosts:v,reels:B,stats:{avgViews:Z,maxViews:_,avgLikes:re,maxLikes:ae,avgComments:ne,maxComments:ie,lastPostDate:le}}))}catch(e){n.innerHTML='<div style="font-size:20px;color:#ff6b6b">ë¶„ì„ ì‹¤íŒ¨</div><div style="font-size:14px;color:#aaa;margin-top:8px">'+(e.message||e)+'</div><div style="font-size:12px;color:#666;margin-top:16px">íƒ­í•˜ì—¬ ë‹«ê¸°</div>',n.addEventListener("click",function(){n.remove()})}}())
